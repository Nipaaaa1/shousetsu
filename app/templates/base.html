{% load static wagtailcore_tags wagtailuserbar %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>
      {% block title %}
      {% if page.seo_title %}{{ page.seo_title }}{% else %}{{ page.title }}{% endif %}
      {% endblock %}
      {% block title_suffix %}
      {% wagtail_site as current_site %}
      {% if current_site and current_site.site_name %}- {{ current_site.site_name }}{% endif %}
      {% endblock %}
    </title>

    {% if page.search_description %}
    <meta name="description" content="{{ page.search_description }}" />
    {% endif %}

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    {% if request.in_preview_panel %}
    <base target="_blank">
    {% endif %}
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
  </head>

  <body class="font-primary" data-theme="retro">
    {% wagtailuserbar %}

    <header class="border-b border-base-300 sticky top-0 bg-base-100 z-99">
      <nav class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
        <a href="/" class="text-xl font-semibold">
      {% wagtail_site as current_site %}
      {% if current_site and current_site.site_name %}{{ current_site.site_name }}{% endif %}
        </a>

        <ul class="hidden md:flex items-center gap-8 text-sm">
          <li><a href="{% pageurl current_site.root_page %}" class="link link-hover">Beranda</a></li>
          <li><a href="{% slugurl 'arcs' %}" class="link link-hover">Daftar Arc</a></li>
        </ul>

        <button
          id="menu-button"
          class="md:hidden btn btn-ghost btn-square"
          aria-label="Open menu"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
               viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </nav>

      <div
        id="mobile-menu"
        class="md:hidden hidden border-t border-base-300"
      >
        <ul class="flex flex-col px-6 py-4 gap-4 text-sm">
          <li><a href="{% pageurl current_site.root_page %}" class="link link-hover">Beranda</a></li>
          <li><a href="{% slugurl 'arcs' %}" class="link link-hover">Daftar Arc</a></li>
        </ul>
      </div>
    </header>

    <main>
      {% block content %}{% endblock %}
    </main>

    <footer class="border-t border-base-300 mt-24">
      <div class="max-w-6xl mx-auto px-6 py-12 grid gap-8 md:grid-cols-2">
        <div class="space-y-3">
          <h3 class="font-semibold text-lg">
      {% wagtail_site as current_site %}
      {% if current_site and current_site.site_name %}{{ current_site.site_name }}{% endif %}
          </h3>
          
          <p class="text-sm opacity-70 max-w-md">
            {{ settings.dashboard.FooterSettings.description }}
          </p>
        </div>

        {% if settings.dashboard.FooterSettings.social_media %}
        <div class="flex gap-6 md:justify-end text-sm">
          {% for block in settings.dashboard.FooterSettings.social_media %}
          <a href="{{ block.value.url }}" class="link link-hover">{{ block.value.provider }}</a>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="text-center text-xs opacity-60 pb-6">
        Â© {% now "Y" %} {{ current_site.site_name }}
      </div>
    </footer>

    <script src="{% static 'js/app.js' %}"></script>
  </body>
</html>
